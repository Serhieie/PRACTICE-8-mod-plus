{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,eAOkBC,E,uCADZC,EAAYC,SAASC,cAAc,YACnCC,EAAiE,QAArDJ,EAAAK,KAAKC,MAAMC,aAAaC,QAAQV,EAAAW,OAAOC,sBAAc,IAArDV,IAAyD,IAE3E,EAAAW,EAAAC,cAAaR,EAAWH,GAAW,GAAM,GAEdC,SAASW,iBAAiB,gBAClCC,SAAQ,SAAAC,GACzBA,EAAIC,YAAc,a,IAGpBf,EAAUgB,iBAAiB,SAE3B,SAAiBC,GACf,GAAIA,EAAIC,OAAOC,UAAUC,SAAS,WAAY,CAC5C,IAAMC,GAAU,EAAAC,EAAAC,aAAYN,EAAIC,SAChC,EAAAM,EAAAC,aAAYJ,E,CAEd,GAAIJ,EAAIC,OAAOC,UAAUC,SAAS,eAAgB,CAChD,IAAMM,GAAU,EAAAJ,EAAAC,aAAYN,EAAIC,QAC1BS,EAAgBxB,EAAUyB,WAAU,SAAAC,G,OAAQA,EAAKC,KAAOJ,EAAQI,E,KAChD,IAAlBH,GACFxB,EAAU4B,OAAOJ,EAAe,GAElCrB,aAAa0B,QAAQnC,EAAAW,OAAOC,aAAcL,KAAK6B,UAAU9B,G","sources":["src/favorite.js"],"sourcesContent":["import { common } from './common';\nimport { instruments } from './helper/products';\nimport { findProduct } from './helper/findProduct';\nimport { createMarkup } from './helper/createMarkup';\nimport { createModal } from './helper/createModal';\n\nconst container = document.querySelector('.js-list');\nconst favorites = JSON.parse(localStorage.getItem(common.KEY_FAVORITE)) ?? [];\n\ncreateMarkup(favorites, container, true, false);\n\nconst deleteFavoriteBtns = document.querySelectorAll('.js-favorite');\ndeleteFavoriteBtns.forEach(btn => {\n  btn.textContent = 'Remove item';\n});\n\ncontainer.addEventListener('click', onClick);\n\nfunction onClick(evt) {\n  if (evt.target.classList.contains('js-info')) {\n    const product = findProduct(evt.target);\n    createModal(product);\n  }\n  if (evt.target.classList.contains('js-favorite')) {\n    const product = findProduct(evt.target);\n    const indexToDelete = favorites.findIndex(item => item.id === product.id);\n    if (indexToDelete !== -1) {\n      favorites.splice(indexToDelete, 1);\n    }\n    localStorage.setItem(common.KEY_FAVORITE, JSON.stringify(favorites));\n  }\n}\n"],"names":["$7jJJd","parcelRequire","$19661b0c25203147$var$ref","$19661b0c25203147$var$container","document","querySelector","$19661b0c25203147$var$favorites","JSON","parse","localStorage","getItem","common","KEY_FAVORITE","$9FPnu","createMarkup","querySelectorAll","forEach","btn","textContent","addEventListener","evt","target","classList","contains","product","$6hD8H","findProduct","$6veBv","createModal","product1","indexToDelete","findIndex","item","id","splice","setItem","stringify"],"version":3,"file":"favorite.d05e5fa8.js.map"}