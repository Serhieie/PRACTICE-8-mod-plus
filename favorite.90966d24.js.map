{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,sDAMA,MAAMC,EAAYC,SAASC,cAAc,Y,IACvBC,EAAlB,MAAMC,EAAiE,QAArDD,EAAAE,KAAKC,MAAMC,aAAaC,QAAQV,EAAAW,OAAOC,sBAAc,IAArDP,IAAyD,IAE3E,EAAAQ,EAAAC,cAAaR,EAAWJ,GAAW,GAAM,GAEdC,SAASY,iBAAiB,gBAClCC,SAAQC,IACzBA,EAAIC,YAAc,aAAa,IAGjChB,EAAUiB,iBAAiB,SAE3B,SAAiBC,GACf,GAAIA,EAAIC,OAAOC,UAAUC,SAAS,WAAY,CAC5C,MAAMC,GAAU,EAAAC,EAAAC,aAAYN,EAAIC,SAChC,EAAAM,EAAAC,aAAYJ,E,CAEd,GAAIJ,EAAIC,OAAOC,UAAUC,SAAS,eAAgB,CAChD,MAAMC,GAAU,EAAAC,EAAAC,aAAYN,EAAIC,QAC1BQ,EAAgBvB,EAAUwB,WAAUC,GAAQA,EAAKC,KAAOR,EAAQQ,MAChD,IAAlBH,GACFvB,EAAU2B,OAAOJ,EAAe,GAElCpB,aAAayB,QAAQlC,EAAAW,OAAOC,aAAcL,KAAK4B,UAAU7B,G","sources":["src/favorite.js"],"sourcesContent":["import { common } from './common';\nimport { instruments } from './helper/products';\nimport { findProduct } from './helper/findProduct';\nimport { createMarkup } from './helper/createMarkup';\nimport { createModal } from './helper/createModal';\n\nconst container = document.querySelector('.js-list');\nconst favorites = JSON.parse(localStorage.getItem(common.KEY_FAVORITE)) ?? [];\n\ncreateMarkup(favorites, container, true, false);\n\nconst deleteFavoriteBtns = document.querySelectorAll('.js-favorite');\ndeleteFavoriteBtns.forEach(btn => {\n  btn.textContent = 'Remove item';\n});\n\ncontainer.addEventListener('click', onClick);\n\nfunction onClick(evt) {\n  if (evt.target.classList.contains('js-info')) {\n    const product = findProduct(evt.target);\n    createModal(product);\n  }\n  if (evt.target.classList.contains('js-favorite')) {\n    const product = findProduct(evt.target);\n    const indexToDelete = favorites.findIndex(item => item.id === product.id);\n    if (indexToDelete !== -1) {\n      favorites.splice(indexToDelete, 1);\n    }\n    localStorage.setItem(common.KEY_FAVORITE, JSON.stringify(favorites));\n  }\n}\n"],"names":["$UDlvM","parcelRequire","$f2929da3ca31033d$var$container","document","querySelector","$f2929da3ca31033d$var$ref","$f2929da3ca31033d$var$favorites","JSON","parse","localStorage","getItem","common","KEY_FAVORITE","$lVWmB","createMarkup","querySelectorAll","forEach","btn","textContent","addEventListener","evt","target","classList","contains","product","$9QMuk","findProduct","$kTP3e","createModal","indexToDelete","findIndex","item","id","splice","setItem","stringify"],"version":3,"file":"favorite.90966d24.js.map"}