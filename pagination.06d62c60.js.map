{"mappings":"YAuFA,IAAMA,EAAW,+BACXC,EAAU,mCACVC,EAAY,uBAEdC,EAAc,EAEZC,EAAOC,SAASC,cAAc,mBAC9BC,EAAQF,SAASC,cAAc,aAQjCE,EAAW,IAAIC,sBAEnB,SAAgBC,EAASC,GACvBD,EAAQE,SAAQ,SAAAC,GACVA,EAAMC,gBAERC,EADAZ,GAAe,GAEZa,MAAK,SAAAC,GACJb,EAAKc,mBAAmB,YAAaC,EAAaF,EAAKG,UACnDH,EAAKI,OAASJ,EAAKK,MAAMC,OAC3BZ,EAASa,UAAUjB,E,IAGtBkB,OAAM,SAAAC,G,OAAOC,QAAQC,IAAIF,E,OAGhCC,QAAQC,IAAIjB,E,GAtBA,CACZkB,KAAM,KACNC,WAAY,QACZC,UAAW,IAsBb,SAASZ,EAAaa,GACpB,OAAOA,EACJC,KACC,SAAAC,G,IAAGC,EAAWD,EAAXC,YAAaC,EAAKF,EAALE,M,MACd,kFACgEC,OAArBF,EAAY,WACjDE,OAD0DD,EAAM,oBAC1DC,OAAND,EAAM,qB,IAGfE,KAAK,G,CAGV,SAASvB,I,IAAYM,EAAAkB,UAAAC,OAAA,YAAAD,UAAA,GAAQA,UAAA,GAAD,EAC1B,OAAOE,MACL,GAAcJ,OAAXrC,GAAgCqC,OAArBnC,EAAU,aAA2BmC,OAAhBpC,EAAQ,UAAaoC,OAALhB,EAAK,kCACxDL,MAAK,SAAA0B,GACL,IAAKA,EAAIC,GACP,MAAM,IAAIC,MAAM,GAAkBP,OAAfK,EAAIG,aAEzB,OAAOH,EAAII,M,IAGf/B,IACGC,MAAK,SAAAC,GACJb,EAAKc,mBAAmB,YAAaC,EAAaF,EAAKG,UACvDZ,EAASuC,QAAQxC,E,IAElBkB,OAAM,SAAAC,G,OAAOC,QAAQC,IAAIF,E","sources":["src/pagination.js"],"sourcesContent":["//доступ за bearer\n\n// const BASE_URL = 'https://the-one-api.dev/v2';\n// const KEY = 'y3glcaSA990ruoKviytv';\n// const END_POINT = '/character';\n\n// function getCharacter() {\n//   const param = new URLSearchParams({\n//     limit: 30,\n//     page: 1,\n//   });\n//   const option = {\n//     method: 'GET',\n//     headers: {\n//       Authorization: `Bearer ${KEY}`,\n//     },\n//   };\n//   fetch(`${BASE_URL}${END_POINT}?${param}`, option).then(res => {\n//     console.log(res);\n//   });\n// }\n\n// getCharacter();\n\n//Пагінація кнопкою //Пагінація кнопкою //Пагінація кнопкою //Пагінація кнопкою //Пагінація кнопкою\n//Пагінація кнопкою //Пагінація кнопкою //Пагінація кнопкою //Пагінація кнопкою //Пагінація кнопкою\n//Пагінація кнопкою //Пагінація кнопкою //Пагінація кнопкою //Пагінація кнопкою //Пагінація кнопкою\n//Пагінація кнопкою //Пагінація кнопкою //Пагінація кнопкою //Пагінація кнопкою //Пагінація кнопкою //Пагінація кнопкою\n//Пагінація кнопкою м//Пагінація кнопкою //Пагінація кнопкою //Пагінація кнопкою //Пагінація кнопкою\n//Пагінація кнопкою //Пагінація кнопкою //Пагінація кнопкою //Пагінація кнопкою //Пагінація кнопкою\n\n// const BASE_URL = 'https://api.themoviedb.org/3';\n// const API_KEY = '713cb35a39a71866f61c58ef1cecbe50';\n// const END_POINT = '/trending/movie/week';\n// const BASE_URL_IMG = 'https://image.tmdb.org/t/p/w300';\n// let currentPage = 1;\n\n// const list = document.querySelector('.js-list-movies');\n// const loadBtn = document.querySelector('.js-load');\n// loadBtn.addEventListener('click', onLoad);\n\n// function onLoad() {\n//   currentPage += 1;\n//   getTranding(currentPage)\n//     .then(data => {\n//       list.insertAdjacentHTML('beforeend', createMarkup(data.results));\n\n//       if (currentPage === data.total_pages) {\n//         loadBtn.hidden = true;\n//       }\n//     })\n//     .catch(err => console.log(err));\n// }\n\n// function getTranding(page = 1) {\n//   return fetch(`${BASE_URL}${END_POINT}?api_key=${API_KEY}&page=${page}`).then(\n//     res => {\n//       if (!res.ok) {\n//         throw new Error(`${res.statusText}`);\n//       }\n//       return res.json();\n//     }\n//   );\n// }\n// getTranding()\n//   .then(data => {\n//     list.insertAdjacentHTML('beforeend', createMarkup(data.results));\n//     if (currentPage !== data.total_pages) {\n//       loadBtn.hidden = false;\n//     }\n//   })\n//   .catch(err => console.log(err));\n\n// function createMarkup(arr) {\n//   return arr\n//     .map(\n//       ({ poster_path, title }) =>\n//         `<li class=\"movie-list-item\">\n//         <img src=\"https://image.tmdb.org/t/p/w300${poster_path}\" alt=\"${title}\">\n//         <h2>${title}</h2>\n//       </li>`\n//     )\n//     .join('');\n// }\n\n// ІНФІНІТІ СКРОЛЛ // ІНФІНІТІ СКРОЛЛ // ІНФІНІТІ СКРОЛЛ // ІНФІНІТІ СКРОЛЛ // ІНФІНІТІ СКРОЛЛ // ІНФІНІТІ СКРОЛЛ\n// ІНФІНІТІ СКРОЛЛ// ІНФІНІТІ СКРОЛЛ// ІНФІНІТІ СКРОЛЛ// ІНФІНІТІ СКРОЛЛ// ІНФІНІТІ СКРОЛЛ// ІНФІНІТІ СКРОЛЛ\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '713cb35a39a71866f61c58ef1cecbe50';\nconst END_POINT = '/trending/movie/week';\nconst BASE_URL_IMG = 'https://image.tmdb.org/t/p/w300';\nlet currentPage = 1;\n\nconst list = document.querySelector('.js-list-movies');\nconst guard = document.querySelector('.js-guard');\n\nlet options = {\n  root: null,\n  rootMargin: '250px',\n  threshold: 1.0,\n};\n\nlet observer = new IntersectionObserver(onLoad, options);\n\nfunction onLoad(entries, observer) {\n  entries.forEach(entry => {\n    if (entry.isIntersecting) {\n      currentPage += 1;\n      getTranding(currentPage)\n        .then(data => {\n          list.insertAdjacentHTML('beforeend', createMarkup(data.results));\n          if (data.page === data.total.pages) {\n            observer.unobserve(guard);\n          }\n        })\n        .catch(err => console.log(err));\n    }\n  });\n  console.log(observer);\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({ poster_path, title }) =>\n        `<li class=\"movie-list-item\">\n        <img src=\"https://image.tmdb.org/t/p/w300${poster_path}\" alt=\"${title}\">\n        <h2>${title}</h2>\n      </li>`\n    )\n    .join('');\n}\n\nfunction getTranding(page = 1) {\n  return fetch(\n    `${BASE_URL}${END_POINT}?api_key=${API_KEY}&page=${page}&include_adult=false&limit=24`\n  ).then(res => {\n    if (!res.ok) {\n      throw new Error(`${res.statusText}`);\n    }\n    return res.json();\n  });\n}\ngetTranding()\n  .then(data => {\n    list.insertAdjacentHTML('beforeend', createMarkup(data.results));\n    observer.observe(guard);\n  })\n  .catch(err => console.log(err));\n"],"names":["$a05c08abba1959c4$var$BASE_URL","$a05c08abba1959c4$var$API_KEY","$a05c08abba1959c4$var$END_POINT","$a05c08abba1959c4$var$currentPage","$a05c08abba1959c4$var$list","document","querySelector","$a05c08abba1959c4$var$guard","$a05c08abba1959c4$var$observer","IntersectionObserver","entries","observer1","forEach","entry","isIntersecting","$a05c08abba1959c4$var$getTranding","then","data","insertAdjacentHTML","$a05c08abba1959c4$var$createMarkup","results","page","total","pages","unobserve","catch","err","console","log","root","rootMargin","threshold","arr","map","param","poster_path","title","concat","join","arguments","length","fetch","res","ok","Error","statusText","json","observe"],"version":3,"file":"pagination.06d62c60.js.map"}