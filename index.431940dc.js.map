{"mappings":"gfAAAA,EAAA,S,IAcoBC,EACFC,E,iEAPZC,EAAYC,SAASC,cAAc,YACnCC,EAASF,SAASC,cAAc,cAKhCE,GAJcH,SAASC,cAAc,gBACzBD,SAASC,cAAc,cACpBD,SAASC,cAAc,kBAE6B,QAArDJ,EAAAO,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,OAAOC,sBAAc,IAArDb,IAAyD,IACvEc,EAA+D,QAAnDb,EAAAM,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,OAAOG,oBAAY,IAAnDd,IAAuD,IAEzE,EAAAe,EAAAC,cAAaC,EAAAC,YAAajB,GAC1BA,EAAUkB,iBAAiB,SAO3B,SAAiBC,GAEf,GADAA,EAAIC,iBACAD,EAAIE,OAAOC,UAAUC,SAAS,WAAY,CAC5C,IAAMC,GAAU,EAAAC,EAAAC,aAAYP,EAAIE,SAChC,EAAAM,EAAAC,aAAYJ,E,CAGd,GAAIL,EAAIE,OAAOC,UAAUC,SAAS,aAAc,CAC9C,IAAMM,GAAU,EAAAJ,EAAAC,aAAYP,EAAIE,QAEhC,GADkBT,EAAUkB,MAAK,SAAAC,G,OAAKA,EAAFC,KAAgBH,EAAQG,E,IAE1D,OAGFpB,EAAUqB,KAAKJ,GACftB,aAAa2B,QAAQzB,EAAAC,OAAOG,WAAYR,KAAK8B,UAAUvB,G,CAEzD,GAAIO,EAAIE,OAAOC,UAAUC,SAAS,eAAgB,CAChD,IAAMa,GAAU,EAAAX,EAAAC,aAAYP,EAAIE,QAEhC,GADkBjB,EAAY0B,MAAK,SAAAC,G,OAAKA,EAAFC,KAAgBI,EAAQJ,E,IAE5D,OAEF5B,EAAY6B,KAAKG,GACjB7B,aAAa2B,QAAQzB,EAAAC,OAAOC,aAAcN,KAAK8B,UAAU/B,G,KA9B7DD,EAAOe,iBAAiB,SAExB,SAAkBC,GAChBkB,QAAQC,IAAInB,E","sources":["src/index.js"],"sourcesContent":["import * as basicLightbox from 'basiclightbox';\nimport 'basiclightbox/dist/basicLightbox.min.css';\nimport { instruments } from './helper/products';\nimport { findProduct } from './helper/findProduct';\nimport { common } from './common';\nimport { createMarkup } from './helper/createMarkup';\nimport { createModal } from './helper/createModal';\n\nconst container = document.querySelector('.js-list');\nconst search = document.querySelector('.js-search');\nconst favoriteBtn = document.querySelector('.js-favorite');\nconst basketBtn = document.querySelector('.js-basket');\nconst deleteFavBtn = document.querySelector('.js-delete-fav');\n\nconst favoriteArr = JSON.parse(localStorage.getItem(common.KEY_FAVORITE)) ?? [];\nconst basketArr = JSON.parse(localStorage.getItem(common.KEY_BASKET)) ?? [];\n\ncreateMarkup(instruments, container);\ncontainer.addEventListener('click', onClick);\nsearch.addEventListener('input', onSearch);\n\nfunction onSearch(evt) {\n  console.log(evt);\n}\n\nfunction onClick(evt) {\n  evt.preventDefault();\n  if (evt.target.classList.contains('js-info')) {\n    const product = findProduct(evt.target);\n    createModal(product);\n  }\n\n  if (evt.target.classList.contains('js-basket')) {\n    const product = findProduct(evt.target);\n    const inStorage = basketArr.some(({ id }) => id === product.id);\n    if (inStorage) {\n      return;\n    }\n\n    basketArr.push(product);\n    localStorage.setItem(common.KEY_BASKET, JSON.stringify(basketArr));\n  }\n  if (evt.target.classList.contains('js-favorite')) {\n    const product = findProduct(evt.target);\n    const inStorage = favoriteArr.some(({ id }) => id === product.id);\n    if (inStorage) {\n      return;\n    }\n    favoriteArr.push(product);\n    localStorage.setItem(common.KEY_FAVORITE, JSON.stringify(favoriteArr));\n  }\n}\n"],"names":["parcelRequire","$b8f9b7833fa37166$var$ref","$b8f9b7833fa37166$var$ref1","$b8f9b7833fa37166$var$container","document","querySelector","$b8f9b7833fa37166$var$search","$b8f9b7833fa37166$var$favoriteArr","JSON","parse","localStorage","getItem","$7jJJd","common","KEY_FAVORITE","$b8f9b7833fa37166$var$basketArr","KEY_BASKET","$9FPnu","createMarkup","$8ek5R","instruments","addEventListener","evt","preventDefault","target","classList","contains","product","$6hD8H","findProduct","$6veBv","createModal","product1","some","param","id","push","setItem","stringify","product2","console","log"],"version":3,"file":"index.431940dc.js.map"}