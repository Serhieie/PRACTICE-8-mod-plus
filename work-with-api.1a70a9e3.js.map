{"mappings":"YAAA,IAAMA,EAASC,SAASC,cAAc,YAChCC,EAAOF,SAASC,cAAc,gBAEpCF,EAAOI,iBAAiB,UAExB,SAAkBC,GAChBA,EAAIC,iBACJ,IAAwBC,EAAAF,EAAIG,cAAcC,SAAlCC,EAAgBH,EAAhBG,MAAOC,EAASJ,EAATI,MAUjB,SAAoBC,EAAMD,GACxB,IACME,EAAU,kCAChB,OAAOC,MACL,GAAiCC,OAHjB,+BAGJ,uBAAkCA,OAAbF,EAAQ,OAAkBE,OAAbH,EAAK,UAAaG,OAALJ,EAAK,aAChEK,MAAK,SAAAC,GACL,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,YAE3B,OAAOH,EAASI,M,KAlBlBC,CAAWZ,EAAMa,MAAOZ,EAAKY,OAC1BP,MAAK,SAAAQ,GACJC,QAAQC,IAAIF,EAAZC,CACGtB,EAAKwB,UAAyBH,EAAKI,SAASC,YAqBhDC,KACC,SAAAC,G,IACEC,EAAID,EAAJC,KAAIC,EAAAF,EACJG,IACEC,EAASF,EAATE,UAASC,EAAAH,EACTI,UAAaC,EAAIF,EAAJE,KAAMC,EAAIH,EAAJG,K,MAEjB,iCACsBxB,OAAduB,EAAK,WACZvB,OADqBwB,EAAK,qBAEzBxB,OADDwB,EAAK,sBAEJxB,OADAiB,EAAK,uBACKjB,OAAVoB,EAAU,qB,IAGnBK,KAAK,I,IAhCLC,OAAM,SAAAC,G,OAAOjB,QAAQC,IAAIgB,E","sources":["src/work-with-api.js"],"sourcesContent":["const search = document.querySelector('.js-form');\nconst list = document.querySelector('.js-list-api');\n\nsearch.addEventListener('submit', onSearch);\n\nfunction onSearch(evt) {\n  evt.preventDefault();\n  const { query, days } = evt.currentTarget.elements;\n  getWeather(query.value, days.value)\n    .then(data => {\n      console.log(data)(\n        (list.innerHTML = createMarkup(data.forecast.forecastday))\n      );\n    })\n    .catch(err => console.log(err));\n}\n\nfunction getWeather(city, days) {\n  const BASE_URL = `http://api.weatherapi.com/v1`;\n  const API_KEY = 'fe876c42d4604a86b1d144111232609';\n  return fetch(\n    `${BASE_URL}/forecast.json?key=${API_KEY}&q=${city}&days=${days}&lang=uk`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.json();\n  });\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        date,\n        day: {\n          avgtemp_c,\n          condition: { icon, text },\n        },\n      }) => `      <li>\n        <img src=\"${icon}\" alt=\"${text}\" />\n        <p>${text}</p>\n        <h2>${date}</h2>\n        <h3>${avgtemp_c}</h3>\n      </li>`\n    )\n    .join('');\n}\n"],"names":["$ea200f2f75c37e94$var$search","document","querySelector","$ea200f2f75c37e94$var$list","addEventListener","evt","preventDefault","_elements","currentTarget","elements","query","days","city","API_KEY","fetch","concat","then","response","ok","Error","statusText","json","$ea200f2f75c37e94$var$getWeather","value","data","console","log","innerHTML","forecast","forecastday","map","param","date","_day","day","avgtemp_c","_condition","condition","icon","text","join","catch","err"],"version":3,"file":"work-with-api.1a70a9e3.js.map"}