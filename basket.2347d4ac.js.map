{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,sDAMA,MAAMC,EAAYC,SAASC,cAAc,Y,IAC1BC,EAAf,MAAMC,EAA4D,QAAnDD,EAAAE,KAAKC,MAAMC,aAAaC,QAAQV,EAAAW,OAAOC,oBAAY,IAAnDP,IAAuD,GACrDF,SAASC,cAAc,iBACvBD,SAASC,cAAc,mBAExC,EAAAS,EAAAC,cAAaR,EAAQJ,GAAW,GAAO,GAEvCA,EAAUa,iBAAiB,SAE3B,SAAiBC,GACf,GAAIA,EAAIC,OAAOC,UAAUC,SAAS,WAAY,CAC5C,MAAMC,GAAU,EAAAC,EAAAC,aAAYN,EAAIC,SAChC,EAAAM,EAAAC,aAAYJ,E,CAGd,GAAIJ,EAAIC,OAAOC,UAAUC,SAAS,iBAAkB,CAClD,MAAMC,GAAU,EAAAC,EAAAC,aAAYN,EAAIC,QAC1BQ,EAAgBnB,EAAOoB,WAAUC,GAAQA,EAAKC,KAAOR,EAAQQ,MAC7C,IAAlBH,GACFnB,EAAOuB,OAAOJ,EAAe,GAE/BhB,aAAaqB,QAAQ9B,EAAAW,OAAOC,WAAYL,KAAKwB,UAAUzB,G","sources":["src/basket.js"],"sourcesContent":["import { common } from './common';\nimport { instruments } from './helper/products';\nimport { findProduct } from './helper/findProduct';\nimport { createMarkup } from './helper/createMarkup';\nimport { createModal } from './helper/createModal';\n\nconst container = document.querySelector('.js-list');\nconst basket = JSON.parse(localStorage.getItem(common.KEY_BASKET)) ?? [];\nconst listItem = document.querySelector('.js-list-item');\nconst quantity = document.querySelector('.quantity-span');\n\ncreateMarkup(basket, container, false, true);\n\ncontainer.addEventListener('click', onClick);\n\nfunction onClick(evt) {\n  if (evt.target.classList.contains('js-info')) {\n    const product = findProduct(evt.target);\n    createModal(product);\n  }\n\n  if (evt.target.classList.contains('js-remove-btn')) {\n    const product = findProduct(evt.target);\n    const indexToDelete = basket.findIndex(item => item.id === product.id);\n    if (indexToDelete !== -1) {\n      basket.splice(indexToDelete, 1);\n    }\n    localStorage.setItem(common.KEY_BASKET, JSON.stringify(basket));\n  }\n}\n"],"names":["$UDlvM","parcelRequire","$b5cfb5590f69f1ca$var$container","document","querySelector","$b5cfb5590f69f1ca$var$ref","$b5cfb5590f69f1ca$var$basket","JSON","parse","localStorage","getItem","common","KEY_BASKET","$lVWmB","createMarkup","addEventListener","evt","target","classList","contains","product","$9QMuk","findProduct","$kTP3e","createModal","indexToDelete","findIndex","item","id","splice","setItem","stringify"],"version":3,"file":"basket.2347d4ac.js.map"}